name: my-topology
prefix: p2p

topology:
  nodes:
    bootstrapserver:
      kind: linux
      image: image-bootstrapserver
      network-mode: my-network
      binds:
        - /home/ozcankaraca/Desktop/p2p-bootstrapserver/mydocument.pdf:/app/mydocument.pdf
      exec:
        - sleep 5
      cmd: "java -cp /app BootstrapServer"
      group: Server

    peer1:
      kind: linux
      image: image-peer
      network-mode: my-network
      exec:
        - sleep 5
      cmd: "java -cp /app Peer"
      group: Peers

    peer2:
      kind: linux
      image: image-peer
      network-mode: my-network
      exec:
        - sleep 5
      cmd: "java -cp /app Peer"
      group: Peers

    peer3:
      kind: linux
      image: image-peer
      network-mode: my-network
      exec:
        - sleep 5
      cmd: "java -cp /app Peer"
      group: Peers

    peer4:
      kind: linux
      image: image-peer
      network-mode: my-network
      exec:
        - sleep 5
      cmd: "java -cp /app Peer"
      group: Peers

    peer5:
      kind: linux
      image: image-peer
      network-mode: my-network
      exec:
        - sleep 5
      cmd: "java -cp /app Peer"
      group: Peers

  links:
    - endpoints: ["bootstrapserver:eth1", "peer1:eth1"]
    - endpoints: ["bootstrapserver:eth2", "peer2:eth1"]
    - endpoints: ["bootstrapserver:eth3", "peer3:eth1"]
    - endpoints: ["bootstrapserver:eth4", "peer4:eth1"]
    - endpoints: ["bootstrapserver:eth5", "peer5:eth1"]
